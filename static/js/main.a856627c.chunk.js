(window.webpackJsonpplanningpoker=window.webpackJsonpplanningpoker||[]).push([[0],{13:function(e,n,t){},14:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var r,a=t(0),o=t.n(a),c=t(6),l=t.n(c),u=(t(13),t(1)),i=t(2),s=(t(14),function(e){var n=e.children,t=e.color,r=e.onClick,a=e.size;return o.a.createElement("div",{className:"card",style:{width:a||150,height:a||150,flex:1,justifyContent:"center",alignItems:"center",margin:8,background:t||"#fff",display:"inline-block"},onClick:r},n)}),f=function(e){var n=e.users,t=Object.keys(n).filter((function(e){return!!n[e]&&!!n[e].value})).length,r=Object.keys(n).length;return t<r?o.a.createElement("div",null,t," / ",r):o.a.createElement("div",null,Object.keys(n).map((function(e){return o.a.createElement(s,null,o.a.createElement("div",null,o.a.createElement("div",{style:{padding:16}},n[e].name),o.a.createElement("div",{style:{fontSize:80}},n[e].value)))})))},v=[{value:"0",color:"#fff"},{value:"1",color:"#afa"},{value:"2",color:"#5f5"},{value:"3",color:"yellow"},{value:"5",color:"orange"},{value:"8",color:"red"},{value:"13",color:"violet"},{value:"20",color:"#bbb"},{value:"?",color:"#fff"}],d=function(e){var n=e.currentSelection,t=e.onClick;return o.a.createElement("div",null,v.map((function(e){var r=e.value,a=e.color;return o.a.createElement(s,{color:n?n===r?a:"white":a,size:50,onClick:function(){return t(r)}},o.a.createElement("div",{style:{fontSize:35}},r))})))},m=t(7),b=t.n(m);!function(e){e.CurrentValue="current_value",e.Leave="leave",e.RequestCurrentValue="request_current_value",e.Reset="reset"}(r||(r={}));var p=t(3),O=t.n(p);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(t,!0).forEach((function(n){Object(u.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=new b.a(4).format(),j=new WebSocket("wss://connect.websocket.in/PlanningPokerApp?room_id=Demo"),k=function(e,n){var t={type:r.CurrentValue,clientId:w,name:e,value:n};j.send(JSON.stringify(t))};window.onbeforeunload=function(){j.send(JSON.stringify({type:r.Leave}))};var E=function(){var e=Object(a.useState)(!0),n=Object(i.a)(e,2),t=n[0],c=n[1],l=Object(a.useState)(Object(u.a)({},w,{name:"",value:void 0})),s=Object(i.a)(l,2),v=s[0],m=s[1],b=v[w],p=b.name,y=b.value,E=function(e,n){k(e,n),m((function(t){return g({},t,Object(u.a)({},w,{name:e,value:n}))}))},h=function(){m((function(e){return O()(e).toPairs().reduce((function(e,n){var t=Object(i.a)(n,2),r=t[0],a=t[1];return g({},e,Object(u.a)({},r,g({},a,{value:void 0})))}),{})}))};return Object(a.useEffect)((function(){j.onopen=function(){c(!1),j.send(JSON.stringify({type:r.RequestCurrentValue})),k(p,y)},j.onmessage=function(e){var n=JSON.parse(e.data);if(n.type)switch(n.type){case r.CurrentValue:m((function(e){return g({},e,Object(u.a)({},n.clientId,{name:n.name,value:n.value}))}));break;case r.Leave:var t=n.clientId,a=O()(v).toPairs().filter((function(e){return Object(i.a)(e,1)[0]!==t})).reduce((function(e,n){var t=Object(i.a)(n,2),r=t[0],a=t[1];return g({},e,Object(u.a)({},r,g({},a,{value:void 0})))}),{});m(a);break;case r.RequestCurrentValue:k(p,y);break;case r.Reset:h();break;default:return}},j.onclose=function(e){}}),[p,v,y]),t?o.a.createElement("header",null,"Loading ..."):o.a.createElement("div",{className:"App"},o.a.createElement("div",{style:{flexDirection:"row",margin:16}},o.a.createElement("label",null,"Dein Name:",o.a.createElement("input",{style:{marginLeft:16},value:p,onChange:function(e){return E(e.target.value,y)}}))),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){j.send(JSON.stringify({type:r.Reset})),h()}},"Reset")),o.a.createElement(d,{currentSelection:y,onClick:function(e){return E(p,e)}}),o.a.createElement(f,{users:v}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,n,t){e.exports=t(20)}},[[8,1,2]]]);
//# sourceMappingURL=main.a856627c.chunk.js.map